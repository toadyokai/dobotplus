<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-lua/tcp" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">TCP and UDP Communication Overview | Dobot+ Plugins Toolkit</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://toadyokai.github.io/dobotplus/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://toadyokai.github.io/dobotplus/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://toadyokai.github.io/dobotplus/en/lua/tcp"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TCP and UDP Communication Overview | Dobot+ Plugins Toolkit"><meta data-rh="true" name="description" content="This document provides an overview of the functions used for TCP and UDP communication, including how to create network objects, establish connections, read data, and send data."><meta data-rh="true" property="og:description" content="This document provides an overview of the functions used for TCP and UDP communication, including how to create network objects, establish connections, read data, and send data."><link data-rh="true" rel="icon" href="/dobotplus/en/img/favicon.png"><link data-rh="true" rel="canonical" href="https://toadyokai.github.io/dobotplus/en/lua/tcp"><link data-rh="true" rel="alternate" href="https://toadyokai.github.io/dobotplus/lua/tcp" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://toadyokai.github.io/dobotplus/en/lua/tcp" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://toadyokai.github.io/dobotplus/lua/tcp" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://4SOWVHXZB0-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Dobot+ Plugins Toolkit" href="/dobotplus/en/opensearch.xml"><link rel="stylesheet" href="/dobotplus/en/assets/css/styles.281ebb26.css">
<script src="/dobotplus/en/assets/js/runtime~main.01e51dba.js" defer="defer"></script>
<script src="/dobotplus/en/assets/js/main.a713f00d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_iRcU" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dobotplus/en/"><div class="navbar__logo"><img src="/dobotplus/en/img/logo.svg" alt="My Site Logo" class="themedComponent_SpSG themedComponent--light_tOzR"><img src="/dobotplus/en/img/logo-dark.svg" alt="My Site Logo" class="themedComponent_SpSG themedComponent--dark_Bm5o"></div></a><a class="navbar__item navbar__link" href="/dobotplus/en/tutorials/environment">Tutorials</a><a class="navbar__item navbar__link" href="/dobotplus/en/api/install">API</a><a class="navbar__item navbar__link" href="/dobotplus/en/components/Alert">Components</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/dobotplus/en/lua/grammer">Lua</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_gjig"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/dobotplus/lua/tcp" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">简体中文</a></li><li><a href="/dobotplus/en/lua/tcp" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li></ul></div><div class="toggle_YRJY colorModeToggle_eVrP"><button class="clean-btn toggleButton_gKlr toggleButtonDisabled_ksps" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_vPDS"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nErn"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_qXhv"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_CmD6"><div class="docsWrapper_s1AF"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_oz7Z" type="button"></button><div class="docRoot_HJE2"><aside class="theme-doc-sidebar-container docSidebarContainer_SbzE"><div class="sidebarViewport_bJlG"><div class="sidebar_r4cm"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_dBSr"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/grammer">Basic Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/operator">Operators in Lua</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/flow">Control Flow in Lua</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/modbus">Modbus Protocol Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/dobotplus/en/lua/tcp">TCP and UDP Communication Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/tool">End Effector Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/io">IO Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/motion">Motion Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/safeskin">Safe Skin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/busRegister">Bus Register</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/programControl">Program Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/tray">Tray</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dobotplus/en/lua/lock">Distributed Lock</a></li></ul></nav></div></div></aside><main class="docMainContainer_sDcP"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_WD4m"><div class="docItemContainer_qdCC"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_u5Gf" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/dobotplus/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_bVfp"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">TCP and UDP Communication Overview</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_jGeb theme-doc-toc-mobile tocMobile_D2Mz"><button type="button" class="clean-btn tocCollapsibleButton_cFos">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>TCP and UDP Communication Overview</h1></header>
<p>This document provides an overview of the functions used for TCP and UDP communication, including how to create network objects, establish connections, read data, and send data.</p>
<h2 class="anchor anchorWithStickyNavbar_PJTr" id="instruction-list">Instruction List<a href="#instruction-list" class="hash-link" aria-label="Direct link to Instruction List" title="Direct link to Instruction List">​</a></h2>
<p>The following table summarizes the functions available for TCP and UDP communication:</p>
<table><thead><tr><th>Command</th><th>Function</th></tr></thead><tbody><tr><td><code>TCPCreate</code></td><td>Create a TCP network object</td></tr><tr><td><code>TCPStart</code></td><td>Establish a TCP connection</td></tr><tr><td><code>TCPRead</code></td><td>Receive data sent by the TCP peer</td></tr><tr><td><code>TCPWrite</code></td><td>Send data to the TCP peer</td></tr><tr><td><code>TCPDestroy</code></td><td>Disconnect TCP connection and destroy socket</td></tr><tr><td><code>UDPCreate</code></td><td>Create a UDP network object</td></tr><tr><td><code>UDPRead</code></td><td>Receive data sent by the UDP peer</td></tr><tr><td><code>UDPWrite</code></td><td>Send data to the UDP peer</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_PJTr" id="tcp-functions">TCP Functions<a href="#tcp-functions" class="hash-link" aria-label="Direct link to TCP Functions" title="Direct link to TCP Functions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="tcpcreate"><code>TCPCreate</code><a href="#tcpcreate" class="hash-link" aria-label="Direct link to tcpcreate" title="Direct link to tcpcreate">​</a></h3>
<p><strong>Prototype:</strong></p>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">TCPCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">isServer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> IP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong>
Creates a TCP network object. Only one instance can be created.</p>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="required-parameters">Required Parameters:<a href="#required-parameters" class="hash-link" aria-label="Direct link to Required Parameters:" title="Direct link to Required Parameters:">​</a></h3>
<ul>
<li><strong>isServer</strong>: Boolean indicating if a server is being created (<code>true</code> for server, <code>false</code> for client).</li>
<li><strong>IP</strong>: Server IP address. Must be in the same subnet and not conflict with the client IP address. For the server, use the robot&#x27;s IP; for the client, use the peer&#x27;s address.</li>
<li><strong>port</strong>: Server port. Avoid using certain reserved ports as listed below.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="reserved-ports">Reserved Ports:<a href="#reserved-ports" class="hash-link" aria-label="Direct link to Reserved Ports:" title="Direct link to Reserved Ports:">​</a></h3>
<ul>
<li><strong>Avoid these ports:</strong> 7, 13, 22, 37, 139, 445, 502, 503, and others within the range of 0-1024 (commonly occupied by the system).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="return-values">Return Values:<a href="#return-values" class="hash-link" aria-label="Direct link to Return Values:" title="Direct link to Return Values:">​</a></h3>
<ul>
<li><strong>err</strong>: <code>0</code> indicates success, <code>1</code> indicates failure.</li>
<li><strong>socket</strong>: The created socket object.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="example">Example:<a href="#example" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h3>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Creating a TCP server.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> ip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;192.168.5.1&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- Robot&#x27;s IP as server IP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6001</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">-- Server port</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> socket </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TCPCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Creating a TCP client.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> ip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;192.168.5.25&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- External device&#x27;s IP as server IP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6001</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">-- Server port</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> socket </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TCPCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="tcpstart"><code>TCPStart</code><a href="#tcpstart" class="hash-link" aria-label="Direct link to tcpstart" title="Direct link to tcpstart">​</a></h3>
<p><strong>Prototype:</strong></p>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">TCPStart</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong>
Establishes a TCP connection. The robot acts as a server waiting for a client connection, or as a client attempting to connect to a server.</p>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="required-parameters-1">Required Parameters:<a href="#required-parameters-1" class="hash-link" aria-label="Direct link to Required Parameters:" title="Direct link to Required Parameters:">​</a></h3>
<ul>
<li><strong>socket</strong>: The created socket object.</li>
<li><strong>timeout</strong>: Waiting timeout in seconds. <code>0</code> means wait indefinitely until the connection is established.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="return-values-1">Return Values:<a href="#return-values-1" class="hash-link" aria-label="Direct link to Return Values:" title="Direct link to Return Values:">​</a></h3>
<ul>
<li>Connection results:<!-- -->
<ul>
<li><code>0</code>: Connection successful</li>
<li><code>1</code>: Invalid parameters</li>
<li><code>2</code>: Socket object does not exist</li>
<li><code>3</code>: Invalid timeout setting</li>
<li><code>4</code>: Connection failed</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="example-1">Example:<a href="#example-1" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h3>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Start establishing TCP connection, wait until connected.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">err </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TCPStart</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- socket is the object from TCPCreate</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="tcpread"><code>TCPRead</code><a href="#tcpread" class="hash-link" aria-label="Direct link to tcpread" title="Direct link to tcpread">​</a></h3>
<p><strong>Prototype:</strong></p>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">TCPRead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong>
Receives data sent by the TCP peer.</p>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="required-parameters-2">Required Parameters:<a href="#required-parameters-2" class="hash-link" aria-label="Direct link to Required Parameters:" title="Direct link to Required Parameters:">​</a></h3>
<ul>
<li><strong>socket</strong>: The created socket object.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="optional-parameters">Optional Parameters:<a href="#optional-parameters" class="hash-link" aria-label="Direct link to Optional Parameters:" title="Direct link to Optional Parameters:">​</a></h3>
<ul>
<li><strong>timeout</strong>: Waiting timeout in seconds. If not set or less than or equal to 0, it will wait until data is read. If greater than 0, it will proceed after the timeout.</li>
<li><strong>type</strong>: Return value type. Default is <code>&quot;table&quot;</code>; if set to <code>&quot;string&quot;</code>, data is returned as a string.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="return-values-2">Return Values:<a href="#return-values-2" class="hash-link" aria-label="Direct link to Return Values:" title="Direct link to Return Values:">​</a></h3>
<ul>
<li><strong>err</strong>: <code>0</code> indicates success, <code>1</code> indicates failure.</li>
<li><strong>RecBuf</strong>: The received data buffer.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="example-2">Example:<a href="#example-2" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h3>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Receive TCP data as both string and table.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> RecBuf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TCPRead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- RecBuf as string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> RecBuf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">TCPRead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">-- RecBuf as table</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="tcpwrite"><code>TCPWrite</code><a href="#tcpwrite" class="hash-link" aria-label="Direct link to tcpwrite" title="Direct link to tcpwrite">​</a></h3>
<p><strong>Prototype:</strong></p>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">TCPWrite</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> buf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong>
Sends data to the TCP peer.</p>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="required-parameters-3">Required Parameters:<a href="#required-parameters-3" class="hash-link" aria-label="Direct link to Required Parameters:" title="Direct link to Required Parameters:">​</a></h3>
<ul>
<li><strong>socket</strong>: The created socket object.</li>
<li><strong>buf</strong>: The data to send.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="optional-parameter">Optional Parameter:<a href="#optional-parameter" class="hash-link" aria-label="Direct link to Optional Parameter:" title="Direct link to Optional Parameter:">​</a></h3>
<ul>
<li><strong>timeout</strong>: Waiting timeout in seconds. If not set or <code>0</code>, waits until the data is fully sent.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="return-values-3">Return Values:<a href="#return-values-3" class="hash-link" aria-label="Direct link to Return Values:" title="Direct link to Return Values:">​</a></h3>
<ul>
<li><strong>err</strong>: <code>0</code> indicates success, <code>1</code> indicates failure.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="example-3">Example:<a href="#example-3" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h3>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Send TCP data with content &quot;test&quot;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">TCPWrite</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- socket is the object from TCPCreate</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="tcpdestroy"><code>TCPDestroy</code><a href="#tcpdestroy" class="hash-link" aria-label="Direct link to tcpdestroy" title="Direct link to tcpdestroy">​</a></h3>
<p><strong>Prototype:</strong></p>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">TCPDestroy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong>
Disconnects the TCP connection and destroys the socket object.</p>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="required-parameter">Required Parameter:<a href="#required-parameter" class="hash-link" aria-label="Direct link to Required Parameter:" title="Direct link to Required Parameter:">​</a></h3>
<ul>
<li><strong>socket</strong>: The created socket object.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="return-values-4">Return Values:<a href="#return-values-4" class="hash-link" aria-label="Direct link to Return Values:" title="Direct link to Return Values:">​</a></h3>
<ul>
<li><strong>result</strong>:<!-- -->
<ul>
<li><code>0</code>: Success</li>
<li><code>1</code>: Failure</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="example-4">Example:<a href="#example-4" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h3>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Disconnect from the TCP peer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">TCPDestroy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- socket is the object from TCPCreate</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_PJTr" id="udp-functions">UDP Functions<a href="#udp-functions" class="hash-link" aria-label="Direct link to UDP Functions" title="Direct link to UDP Functions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="udpcreate"><code>UDPCreate</code><a href="#udpcreate" class="hash-link" aria-label="Direct link to udpcreate" title="Direct link to udpcreate">​</a></h3>
<p><strong>Prototype:</strong></p>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">UDPCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">isServer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> IP</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong>
Creates a UDP network object. Only one instance can be created.</p>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="required-parameters-4">Required Parameters:<a href="#required-parameters-4" class="hash-link" aria-label="Direct link to Required Parameters:" title="Direct link to Required Parameters:">​</a></h3>
<ul>
<li><strong>isServer</strong>: Boolean indicating if a server is being created (<code>true</code> for server, <code>false</code> for client).</li>
<li><strong>IP</strong>: The IP address for both server and client, must be in the same subnet and not conflict with the robot’s IP.</li>
<li><strong>port</strong>:<!-- -->
<ul>
<li>For the server, this is the port used by both local and peer.</li>
<li>For the client, this is the peer&#x27;s port, and the local will use a random port.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="return-values-5">Return Values:<a href="#return-values-5" class="hash-link" aria-label="Direct link to Return Values:" title="Direct link to Return Values:">​</a></h3>
<ul>
<li><strong>err</strong>: <code>0</code> indicates success, <code>1</code> indicates failure.</li>
<li><strong>socket</strong>: The created socket object.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="example-5">Example:<a href="#example-5" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h3>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Creating a UDP server.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> ip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;192.168.5.25&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- External device&#x27;s IP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6001</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">-- Port used for both ends</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> socket </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">UDPCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Creating a UDP client.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> ip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;192.168.5.25&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- External device&#x27;s IP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6001</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">-- Peer port</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">local</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> socket </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">UDPCreate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="udpread"><code>UDPRead</code><a href="#udpread" class="hash-link" aria-label="Direct link to udpread" title="Direct link to udpread">​</a></h3>
<p><strong>Prototype:</strong></p>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">UDPRead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong>
Receives data sent by the UDP peer.</p>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="required-parameter-1">Required Parameter:<a href="#required-parameter-1" class="hash-link" aria-label="Direct link to Required Parameter:" title="Direct link to Required Parameter:">​</a></h3>
<ul>
<li><strong>socket</strong>: The created socket object.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="optional-parameters-1">Optional Parameters:<a href="#optional-parameters-1" class="hash-link" aria-label="Direct link to Optional Parameters:" title="Direct link to Optional Parameters:">​</a></h3>
<ul>
<li><strong>timeout</strong>: Waiting timeout in seconds. If not set or less than or equal to 0, it waits until data is read; if &gt; 0, it proceeds after the timeout.</li>
<li><strong>type</strong>: Return value type. Default is <code>&quot;table&quot;</code>; if set to <code>&quot;string&quot;</code>, data is returned as a string.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="return-values-6">Return Values:<a href="#return-values-6" class="hash-link" aria-label="Direct link to Return Values:" title="Direct link to Return Values:">​</a></h3>
<ul>
<li><strong>err</strong>: <code>0</code> indicates success, <code>1</code> indicates failure.</li>
<li><strong>RecBuf</strong>: The received data buffer.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="example-6">Example:<a href="#example-6" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h3>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Receive UDP data as both string and table.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> RecBuf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">UDPRead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- RecBuf as string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> RecBuf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">UDPRead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">-- RecBuf as table</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="udpwrite"><code>UDPWrite</code><a href="#udpwrite" class="hash-link" aria-label="Direct link to udpwrite" title="Direct link to udpwrite">​</a></h3>
<p><strong>Prototype:</strong></p>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">UDPWrite</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> buf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Description:</strong>
Sends data to the UDP peer.</p>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="required-parameters-5">Required Parameters:<a href="#required-parameters-5" class="hash-link" aria-label="Direct link to Required Parameters:" title="Direct link to Required Parameters:">​</a></h3>
<ul>
<li><strong>socket</strong>: The created socket object.</li>
<li><strong>buf</strong>: The data to send.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="optional-parameter-1">Optional Parameter:<a href="#optional-parameter-1" class="hash-link" aria-label="Direct link to Optional Parameter:" title="Direct link to Optional Parameter:">​</a></h3>
<ul>
<li><strong>timeout</strong>: Waiting timeout in seconds. If not set or <code>0</code>, waits until the data is fully sent.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="return-values-7">Return Values:<a href="#return-values-7" class="hash-link" aria-label="Direct link to Return Values:" title="Direct link to Return Values:">​</a></h3>
<ul>
<li><strong>err</strong>: <code>0</code> indicates success, <code>1</code> indicates failure.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_PJTr" id="example-7">Example:<a href="#example-7" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h3>
<div class="language-lua codeBlockContainer_Bvsd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_xQs7"><pre tabindex="0" class="prism-code language-lua codeBlock_s1XS thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_VSMq"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Send UDP data with content &quot;test&quot;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">UDPWrite</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">-- socket is the object from UDPCreate</span><br></span></code></pre><div class="buttonGroup_Z4qL"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d_HH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon__OFD"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_oVhQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/dobotplus/en/lua/modbus"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Modbus Protocol Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dobotplus/en/lua/tool"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">End Effector Commands</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Zkp4 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#instruction-list" class="table-of-contents__link toc-highlight">Instruction List</a></li><li><a href="#tcp-functions" class="table-of-contents__link toc-highlight">TCP Functions</a><ul><li><a href="#tcpcreate" class="table-of-contents__link toc-highlight"><code>TCPCreate</code></a></li><li><a href="#required-parameters" class="table-of-contents__link toc-highlight">Required Parameters:</a></li><li><a href="#reserved-ports" class="table-of-contents__link toc-highlight">Reserved Ports:</a></li><li><a href="#return-values" class="table-of-contents__link toc-highlight">Return Values:</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example:</a></li><li><a href="#tcpstart" class="table-of-contents__link toc-highlight"><code>TCPStart</code></a></li><li><a href="#required-parameters-1" class="table-of-contents__link toc-highlight">Required Parameters:</a></li><li><a href="#return-values-1" class="table-of-contents__link toc-highlight">Return Values:</a></li><li><a href="#example-1" class="table-of-contents__link toc-highlight">Example:</a></li><li><a href="#tcpread" class="table-of-contents__link toc-highlight"><code>TCPRead</code></a></li><li><a href="#required-parameters-2" class="table-of-contents__link toc-highlight">Required Parameters:</a></li><li><a href="#optional-parameters" class="table-of-contents__link toc-highlight">Optional Parameters:</a></li><li><a href="#return-values-2" class="table-of-contents__link toc-highlight">Return Values:</a></li><li><a href="#example-2" class="table-of-contents__link toc-highlight">Example:</a></li><li><a href="#tcpwrite" class="table-of-contents__link toc-highlight"><code>TCPWrite</code></a></li><li><a href="#required-parameters-3" class="table-of-contents__link toc-highlight">Required Parameters:</a></li><li><a href="#optional-parameter" class="table-of-contents__link toc-highlight">Optional Parameter:</a></li><li><a href="#return-values-3" class="table-of-contents__link toc-highlight">Return Values:</a></li><li><a href="#example-3" class="table-of-contents__link toc-highlight">Example:</a></li><li><a href="#tcpdestroy" class="table-of-contents__link toc-highlight"><code>TCPDestroy</code></a></li><li><a href="#required-parameter" class="table-of-contents__link toc-highlight">Required Parameter:</a></li><li><a href="#return-values-4" class="table-of-contents__link toc-highlight">Return Values:</a></li><li><a href="#example-4" class="table-of-contents__link toc-highlight">Example:</a></li></ul></li><li><a href="#udp-functions" class="table-of-contents__link toc-highlight">UDP Functions</a><ul><li><a href="#udpcreate" class="table-of-contents__link toc-highlight"><code>UDPCreate</code></a></li><li><a href="#required-parameters-4" class="table-of-contents__link toc-highlight">Required Parameters:</a></li><li><a href="#return-values-5" class="table-of-contents__link toc-highlight">Return Values:</a></li><li><a href="#example-5" class="table-of-contents__link toc-highlight">Example:</a></li><li><a href="#udpread" class="table-of-contents__link toc-highlight"><code>UDPRead</code></a></li><li><a href="#required-parameter-1" class="table-of-contents__link toc-highlight">Required Parameter:</a></li><li><a href="#optional-parameters-1" class="table-of-contents__link toc-highlight">Optional Parameters:</a></li><li><a href="#return-values-6" class="table-of-contents__link toc-highlight">Return Values:</a></li><li><a href="#example-6" class="table-of-contents__link toc-highlight">Example:</a></li><li><a href="#udpwrite" class="table-of-contents__link toc-highlight"><code>UDPWrite</code></a></li><li><a href="#required-parameters-5" class="table-of-contents__link toc-highlight">Required Parameters:</a></li><li><a href="#optional-parameter-1" class="table-of-contents__link toc-highlight">Optional Parameter:</a></li><li><a href="#return-values-7" class="table-of-contents__link toc-highlight">Return Values:</a></li><li><a href="#example-7" class="table-of-contents__link toc-highlight">Example:</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 Dobot All Rights Reserved. 粤ICP备16048417号-1</div></div></div></footer></div>
</body>
</html>